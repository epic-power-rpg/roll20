/* ------------- Spells ------------*/

.tabcontrol[value="arcane"]~.tab[name="act_arcane"],
.tabcontrol[value="divine"]~.tab[name="act_divine"],
.tabcontrol[value="innate"]~.tab[name="act_innate"] {
  font-weight: bold;
  text-decoration: none;
  background-color: #616161;
  color: white;
  margin-bottom: -1px;
  border-bottom: 1px solid transparent;
}

.sectioncontrol[value="arcane"]~div.arcane,
.sectioncontrol[value="divine"]~div.divine {
  display: inline-flex;
}

.sectioncontrol[value="innate"]~div.innate {
  display: block;
}

.spell-tabs {
  border-bottom: solid black 1px;
  margin-bottom: 6px;
  display: flex;
  align-items: center;

  >button[type="action"] {
    border-bottom: 0px;
  }

  >button[type="roll"] {
    margin-bottom: 1px;
  }
}

.spells {
  div[data-groupname] span {
    display: inline-block;
  }

  input[type="text"]:not(.skillname) {
    text-align: center;
  }
}

.arcane .skillattribute {
  text-align: right;
  width: 30px;
  margin-bottom: 2px;
}

.spellEP.spellEP.spellEP {
  width: 50px;
  margin-left: 15px;
}

.spellcasttime {
  width: 50px;
}

.spelltype {
  width: 65px;
}

.spellrange {
  width: 40px;
}

.spelltarget {
  width: 60px;
}

.spellduration {
  width: 70px;
}

.spellhasnote.spellhasnote.spellhasnote.spellhasnote {
  width: 12px;
  margin-left: 0px;
  margin-right: 1px;
  margin-bottom: 2px;
}

.isdiscipline[value="1"] {
  ~.skill-roll,
  ~.spellEP,
  ~.spellcasttime,
  ~.spelltype,
  ~.spellrange,
  ~.spelltarget,
  ~.spellduration,
  ~.spellhasnote {
    display: none;
  }

  ~.spellhasnote+span.skillTP {
    // This aligns the `Experience` column when the row is `isdispline`
    margin-left: 448px;
  }
}

.table-header .skill-roll {
  border-width: 0px;
}

.spell-note {
  flex-grow: 1;
  margin-bottom: 1px;
}
.arcane .spell-note {
  margin-left: 40px;
}

/* Avoid space between items in the row */
.spells {
  .table-header {
    display: flex;
    flex-direction: row;
    align-items: flex-end;
  }

  div[data-groupname]>div {
    display: flex;
    flex-direction: column;
    align-items: stretch;
    /* and make rows overlap */
    margin-top: -1px;
  }

  $innate-grid: 4fr 1fr 1fr 2fr 1fr 2fr 2fr 1fr 1fr;
  $innate-grid-padding: 4px;
  $innate-grid-column-gap: 2px;

  .innate-spells-header {
    display: grid;
    grid-template-columns: $innate-grid;
    column-gap: $innate-grid-column-gap;
    background: #93c6f2;
    padding: $innate-grid-padding;
    >div {
        text-align: center;
        margin: auto;
        font-weight: bold;
        width: 100%;
      }
  }

  div[data-groupname="repeating_innate"] > div {
    display: grid;
    grid-template-columns: $innate-grid;
    row-gap: 4px;
    column-gap: $innate-grid-column-gap;
    background: aliceblue;
    padding-left: $innate-grid-padding;
    padding-right: $innate-grid-padding;
    > input, input[type=number], > select {
      width: 100%;
      margin-left: unset;
    }
    > input[type=text] {
      text-align: left;
    }
    .spell-row.conditional-one {
      grid-column-start: 1;
      grid-column-end: 10;
    }
  }
}

.spell-row {
  display: flex;
  flex-direction: row;
  align-items: flex-end;
}